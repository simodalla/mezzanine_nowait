# Config file for automatic testing at travis-ci.org

language: python

python:
  - "3.3"
  - "2.7"
  - "2.6"

env:
  - DJANGO_VERSION=1.5.5
  - DJANGO_VERSION=1.6.2

# command to install dependencies
install:
  - pip install Django==$DJANGO_VERSION --use-mirrors
  - if [[ $DJANGO_VERSION == '1.5.5' ]]; then pip install django-discover-runner --use-mirrors; fi
  - pip install -r requirements/requirements-test.txt --use-mirrors

# command to run tests using coverage
script:
  - make lint
  - coverage run --source nowait --omit=nowait/migrations/*,nowait/tests/factories.py project_template/manage.py test nowait

# report coverage to coveralls.io
after_success: coveralls
